DELETE FROM SIP_reports where reportid in ('7','8','14');

INSERT INTO `SIP_reports` (`reportid`, `usertype`, `sqlquery`, `report_title`, `comments`, `num_cols`, `category`, `rel_rep_id`) VALUES
('14', 0, 'select 0 AS id,"Institute Name" as''A'',"RCID" as B,"ME209xA16" as''C'',"EE210xA16" as ''D'' ,"HS791xA16" as''E'',"SKANI101xA" as ''F''\r\n union all select (@cnt := @cnt + 1) AS\r\nid,query.remotecentername,query.remotecenterid,query.me,query.ee,query.hs, query.sk\r\nFROM (SELECT t.remotecentername,t.remotecenterid,\r\nsum(if(s.courseid="IITBombayX/ME209xA16/2016-17",1,0)) me,\r\nsum(if(s.courseid="IITBombayX/EE210xA16/2016-17",1,0)) ee,\r\nsum(if(s.courseid="IITBombayX/HS791xA16/2016-17",1,0)) hs,\r\nsum(if(s.courseid="IITBombayX/SKANI101xA/2016_T2",1,0)) sk\r\nFROM SIP_studentdetails s, SIP_courselevelusers c,\r\nSIP_t10kt_remotecenter t\r\nWHERE s.edxis_active =1 AND s.teacherid_id = c.id\r\n AND t.instituteid_id = c.instituteid_id AND c.instituteid_id !=0 AND t.remotecenterid >1000\r\ngroup by t.remotecentername ORDER BY `t`.`remotecentername` ASC\r\n      ) query\r\nCROSS JOIN (SELECT @cnt := 0) AS dummy\r\nunion all\r\n SELECT "Total","",count(distinct t.remotecenterid),\r\nsum(if(s.courseid="IITBombayX/ME209xA16/2016-17",1,0)) me,\r\nsum(if(s.courseid="IITBombayX/EE210xA16/2016-17",1,0)) ee,\r\nsum(if(s.courseid="IITBombayX/HS791xA16/2016-17",1,0)) hs,\r\nsum(if(s.courseid="IITBombayX/SKANI101xA/2016_T2",1,0)) sk\r\nFROM SIP_studentdetails s, SIP_courselevelusers c,\r\nSIP_t10kt_remotecenter t\r\nWHERE s.edxis_active =1 AND s.teacherid_id = c.id\r\n AND t.instituteid_id = c.instituteid_id AND c.instituteid_id !=0 AND t.remotecenterid >1000 ', 'Students'' Participation', 'Displays list of institutes with number of students participating in Blended Moocs program, per course', 6, 'Institute-wise', NULL),
('7', 0, 'select 0 AS\r\nid,"Institute Name" as''A'',"RCID" as ''B'' ,"ME209xA16" as ''C''\r\n,"EE210xA16" as''D'',"SKANI101xA" as ''E'',"HS791xA16" as F\r\nunion all  select (@cnt\r\n:= @cnt + 1) AS\r\nid,query.institutename,query.remotecenterid_id,query.me,query.ee,query.sk,query.hs\r\nfrom (select\r\nb.institutename,remotecenterid_id,sum(if(courseid_id=46,teachers,0)) as\r\nme ,sum(if(courseid_id=45,teachers,0)) as ee,\r\nsum(if(courseid_id=41,teachers,0)) as sk,\r\nsum(if(courseid_id=42,teachers,0)) as\r\nhs \r\nfrom (SELECT\r\na.instituteid_id,a.remotecenterid_id,b.courseid_id,count(personid_id)\r\nteachers FROM `SIP_t10kt_approvedinstitute` a,SIP_courselevelusers b\r\nwhere  a.instituteid_id=b.instituteid_id and roleid = 5 and\r\na.remotecenterid_id >1000 group by\r\na.instituteid_id,a.remotecenterid_id,b.courseid_id ) query,\r\nSIP_t10kt_institute b WHERE instituteid_id=b.instituteid GROUP BY\r\nb.institutename,remotecenterid_id ORDER BY remotecenterid_id,ee\r\nDESC,hs DESC,sk DESC) query  CROSS JOIN (SELECT @cnt := 0) AS dummy\r\nunion all\r\nselect "Total",\r\n"",count(distinct remotecenterid_id),sum(if(courseid_id=46,teachers,0)) as me ,\r\nsum(if(courseid_id=45,teachers,0)) as ee,\r\nsum(if(courseid_id=41,teachers,0)) as sk,\r\nsum(if(courseid_id=42,teachers,0)) as hs \r\nfrom (SELECT\r\na.instituteid_id,a.remotecenterid_id,b.courseid_id,count(personid_id)\r\nteachers FROM `SIP_t10kt_approvedinstitute` a,SIP_courselevelusers b\r\nwhere  a.instituteid_id=b.instituteid_id and roleid = 5 and\r\na.remotecenterid_id >1000 group by\r\na.instituteid_id,a.remotecenterid_id,b.courseid_id ) query,\r\nSIP_t10kt_institute b WHERE instituteid_id=b.instituteid', 'Teachers'' Participation', 'Number of teachers participating in respective courses institute-wise', 6, 'Institute-wise', NULL),
('8', 0, 'select 0 AS id," " as A,"ME209xA16" as''B'',"EE210xA16" as ''C'' ,"HS791xA16" as D,"SKANI101xA" as ''E''\r\n union all select (@cnt := @cnt + 1) AS id,\r\n"No. of Institutes" a, query.me,query.ee,query.hs,query.sk\r\nfrom\r\n (SELECT sum( if( courseid_id =46, 1, 0 ) ) as me,\r\n         sum( if( courseid_id =45, 1, 0 ) ) as ee,\r\n         sum( if( courseid_id =42, 1, 0 ) ) as hs,\r\n         sum( if( courseid_id =41, 1, 0 ) ) as sk       \r\nFROM (SELECT a.instituteid_id, a.remotecenterid_id, b.courseid_id, count( personid_id ) teachers\r\nFROM `SIP_t10kt_approvedinstitute` a, SIP_courselevelusers b\r\nWHERE a.instituteid_id = b.instituteid_id AND roleid =5\r\nAND a.remotecenterid_id >1000\r\nGROUP BY a.instituteid_id, a.remotecenterid_id, b.courseid_id )q)\r\nquery CROSS JOIN (SELECT @cnt := 0) AS dummy', 'Course Participation', 'Displays Institutes'' Participation count in each Course', 5, 'Institute-wise', NULL);

